    name: ReversingLabs rl-scanner-cloud only
    run-name: rl-scanner-cloud-only

    on:
      push:
        branches: [ "main" ]
      pull_request:
        branches: [ "main" ]

    jobs:
      checkout-build-scan-only:
        runs-on: ubuntu-latest
        permissions:
          statuses: write
          pull-requests: write

        steps:
          # Need to check out data before we can do anything
          - uses: actions/checkout@v4

          # Replace this with your build process
          # Produces one file as the build artifact in scanfile=<relative file path>
          - name: Create build artifact
            id: build

            shell: bash

            run: |
              echo "scanfile=$( ls Readme.md )" >> $GITHUB_OUTPUT

          # Use the rl-scanner-cloud-only action
          - name: Scan build artifact on the Portal
            id: rl-scan

            env:
              RLPORTAL_ACCESS_TOKEN: ${{ secrets.RLPORTAL_ACCESS_TOKEN }}

            uses: maarten-boot/gh-action-rl-scanner-cloud-only-test@t1.0.1
            with:
              artifact-to-scan: ${{ steps.build.outputs.scanfile }}
              rl-verbose: true
              rl-portal-server: demo
              rl-portal-org: ExampleOrg
              rl-portal-group: demo-group
              rl-package-url: my-project/my-package@t1.0.1

          - name: report the scan status
            if: success() || failure()
            run: |
              echo "The status is: '${{ steps.rl-scan.outputs.status }}'"
              echo "The description is: '${{ steps.rl-scan.outputs.description }}'"
